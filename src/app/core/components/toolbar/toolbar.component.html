<nav class="pf-nav">
  <mat-toolbar class="justify-content-between" color="primary">
    <!-- If The Mobile View Should Be Shown, We Show A Sidebar Icon And The Site Icon To Save Space -->
    <ng-container *ngIf="mobileView else desktopView">
      <!-- Left Group Of Mobile Toolbar Items -->
      <div>
        <!-- Shows The Sidenav -->
        <button mat-icon-button (click)="openSidenav.emit()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>

      <!-- Right Group Of Mobile Toolbar Items -->
      <div class="text-center w-100">
        <ng-container *ngTemplateOutlet="homeButtonTemplate"></ng-container>
      </div>
    </ng-container>

    <ng-template #desktopView>
      <!-- Left Group Of Desktop Toolbar Items -->
      <div>
        <ng-container *ngTemplateOutlet="homeButtonTemplate"></ng-container>

        <a mat-button routerLinkActive="pf-route-button-active" [href]="AppRoute.Contributors" [routerLink]="AppRoute.Contributors">
          <strong>Contributors</strong>
        </a>
      </div>

      <!-- Right Group Of Desktop Toolbar Items -->
      <div>
        <button mat-icon-button aria-label="Open Theme Switcher Icon Button" matTooltip="Select An Application Theme" [matMenuTriggerFor]="themeMenu">
          <mat-icon>palette</mat-icon>
        </button>
        <mat-menu #themeMenu="matMenu" xPosition="before">
          <ng-template matMenuContent>
            <button *ngFor="let theme of allThemes" mat-menu-item [disabled]="theme.bundleName === activeTheme" (click)="setApplicationTheme.emit(theme.bundleName)">
              <!-- Display A Checkmark Next To The Active Theme -->
              <mat-icon *ngIf="theme.bundleName === activeTheme" class="me-2">check</mat-icon>
              <!-- Display An Empty Icon Which Acts Like A Spacer Next To All Of The Other Themes -->
              <mat-icon *ngIf="!(theme.bundleName === activeTheme)" class="me-2"></mat-icon>

              <mat-icon class="me-2">
                <svg viewBox="0 0 80 80">
                  <defs>
                    <path id="a" d="M77.87 0C79.05 0 80 .95 80 2.13v75.74c0 1.17-.95 2.13-2.13 2.13H2.13C.96 80 0 79.04 0 77.87V2.13C0 .95.96 0 2.13 0h75.74z"></path>
                    <path id="b" d="M54 40c3.32 0 6 2.69 6 6 0 1.2 0-1.2 0 0 0 3.31-2.68 6-6 6H26c-3.31 0-6-2.69-6-6 0-1.2 0 1.2 0 0 0-3.31 2.69-6 6-6h28z"></path>
                    <path id="c" d="M0 0h80v17.24H0V0z"></path>
                  </defs>
                  <use xlink:href="#a" [attr.fill]="theme.backgroundColor"></use>
                  <use xlink:href="#b" [attr.fill]="theme.buttonColor"></use>
                  <use xlink:href="#c" [attr.fill]="theme.headerColor"></use>
                </svg>
              </mat-icon>

              <strong>{{ theme.labelName }}</strong>
            </button>
          </ng-template>
        </mat-menu>

        <button mat-icon-button aria-label="Open Help Menu Icon Button" class="me-2" matTooltip="Help Me" [matMenuTriggerFor]="helpMenu">
          <mat-icon>help</mat-icon>
        </button>
        <mat-menu #helpMenu="matMenu" xPosition="before">
          <ng-template matMenuContent>
            <button mat-menu-item (click)="openAboutDialog.emit()">
              <mat-icon class="me-2">info</mat-icon>
              <strong>About&hellip;</strong>
            </button>
          </ng-template>
        </mat-menu>

        <a *ngIf="!currentUser?.jwtToken" mat-button routerLinkActive="pf-route-button-active" [href]="AppRoute.Login" [routerLink]="AppRoute.Login">
          <strong>Log In</strong>
        </a>

        <button *ngIf="currentUser?.jwtToken" mat-button class="me-2">{{ currentUser?.userName }}</button>

        <a mat-button href="https://github.com/ehharding/Pocket-Fic" target="_blank">
          <img alt="GitHub Logo" class="me-2 pf-github-logo" src="assets/images/other-logos/github.svg"/>
          <strong>GitHub</strong>
        </a>
      </div>
    </ng-template>
  </mat-toolbar>
</nav>

<ng-template #homeButtonTemplate>
  <a mat-button [href]="AppRoute.Home" [routerLink]="AppRoute.Home">
    <mat-icon class="me-2">import_contacts</mat-icon>
    <strong>Pocket Fic</strong>
  </a>
</ng-template>
